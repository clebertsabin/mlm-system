<!doctypehtml><html lang="en"><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1"><title>Sign Up - MLMS</title><link rel="stylesheet"href="loginsignup.css"><link rel="stylesheet"href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"><div class="signup-box"><form id="signupForm"onsubmit="signup(event)"class="form1"><h2>Create Account</h2><div class="form-group"><input id="fullName"required placeholder="Full Name"pattern="[A-Za-z\s]+"title="Please enter a valid name"> <i class="fas fa-user"></i></div><div class="form-group"><input type="email"id="email"required placeholder="Email"pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"> <i class="fas fa-envelope"></i></div><div class="form-group"><input type="password"id="password"required placeholder="Password"minlength="8"pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"> <i class="fas fa-lock"></i></div><div class="form-group"><input type="password"id="confirmPassword"required placeholder="Confirm Password"> <i class="fas fa-lock"></i></div><div class="form-group"><select id="role"required><option value="">-- Select Role --<option value="employee">Employee<option value="admin">Administrator<option value="hod">Head of Department<option value="finance">Financial Manager</select> <i class="fas fa-user-tag"></i></div><div class="form-group"><select id="campus"required><option value="">-- Choose Campus --</select> <i class="fas fa-building"></i></div><div class="form-group"><select id="college"required><option value="">-- Choose College --</select> <i class="fas fa-university"></i></div><div class="form-group"><select id="school"required><option value="">-- Choose School --</select> <i class="fas fa-school"></i></div><div class="form-group"><select id="department"required><option value="">-- Choose Department --</select> <i class="fas fa-sitemap"></i></div><div id="error-message"class="error-message"></div><button type="submit">Sign Up</button><div class="link"><p>Already have an account? <a href="loginmlms.html"style="text-decoration:#005fa3">Login</a></div></form></div><script src="js/api.js"></script><script>let data={Huye:{"College of Science":{"School of Engineering":["Mechanical","Electrical"],"School of Physics":["Astrophysics","Nuclear Physics"]},"College of Arts":{"School of Literature":["English","French"]}},Nyagatare:{"College of Agriculture":{"School of Farming":["Crop Science","Animal Science"]}},Musanze:{"College of Environment":{"School of Conservation":["Wildlife","Forestry"]}}},campusSelect=document.getElementById("campus"),collegeSelect=document.getElementById("college"),schoolSelect=document.getElementById("school"),departmentSelect=document.getElementById("department"),errorMessage=document.getElementById("error-message"),password=(window.onload=()=>{Object.keys(data).forEach(e=>{campusSelect.innerHTML+=`<option value="${e}">${e}</option>`})},campusSelect.addEventListener("change",()=>{collegeSelect.innerHTML='<option value="">-- Choose College --</option>',schoolSelect.innerHTML='<option value="">-- Choose School --</option>',departmentSelect.innerHTML='<option value="">-- Choose Department --</option>';var e=data[campusSelect.value];e&&Object.keys(e).forEach(e=>{collegeSelect.innerHTML+=`<option value="${e}">${e}</option>`})}),collegeSelect.addEventListener("change",()=>{schoolSelect.innerHTML='<option value="">-- Choose School --</option>',departmentSelect.innerHTML='<option value="">-- Choose Department --</option>';var e=data[campusSelect.value]?.[collegeSelect.value];e&&Object.keys(e).forEach(e=>{schoolSelect.innerHTML+=`<option value="${e}">${e}</option>`})}),schoolSelect.addEventListener("change",()=>{departmentSelect.innerHTML='<option value="">-- Choose Department --</option>';var e=data[campusSelect.value]?.[collegeSelect.value]?.[schoolSelect.value];e&&e.forEach(e=>{departmentSelect.innerHTML+=`<option value="${e}">${e}</option>`})}),document.getElementById("password")),confirmPassword=document.getElementById("confirmPassword");async function signup(e){if(e.preventDefault(),errorMessage.textContent="",document.getElementById("signupForm").checkValidity()){e={fullName:document.getElementById("fullName").value,email:document.getElementById("email").value,password:document.getElementById("password").value,role:document.getElementById("role").value,campus:document.getElementById("campus").value,college:document.getElementById("college").value,school:document.getElementById("school").value,department:document.getElementById("department").value};try{await api.auth.register(e);alert("Sign-up successful! Please check your email for verification."),window.location.href="loginmlms.html"}catch(e){errorMessage.textContent=e.message||"An error occurred during signup. Please try again.",console.error("Signup error:",e)}}}confirmPassword.addEventListener("input",()=>{password.value!==confirmPassword.value?confirmPassword.setCustomValidity("Passwords don't match"):confirmPassword.setCustomValidity("")})</script>