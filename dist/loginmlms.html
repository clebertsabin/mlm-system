<!doctypehtml><html lang="en"><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1"><title>Login - MLMS</title><link rel="stylesheet"href="loginsignup.css"><link rel="stylesheet"href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"><div class="login-box"><form id="loginForm"onsubmit="login(event)"><h2>Login</h2><div class="form-group"><input type="email"id="email"required placeholder="Email"> <i class="fas fa-envelope"></i></div><div class="form-group"><input type="password"id="password"required placeholder="Password"> <i class="fas fa-lock"></i></div><a href="#"class="forgot"onclick="forgotPassword(event)">Forgot Password?</a><div id="error-message"class="error-message"></div><button type="submit">Login</button><div class="link"><p>Don't have an account? <a href="createaccount.html"style="text-decoration:#005fa3">Sign up</a></div></form></div><script src="js/api.js"></script><script>async function login(t){t.preventDefault();var t=document.getElementById("error-message"),e=(t.textContent="",document.getElementById("email").value),a=document.getElementById("password").value;try{var o=await api.auth.login({email:e,password:a});switch(localStorage.setItem("token",o.token),localStorage.setItem("user",JSON.stringify(o.user)),o.user.role){case"admin":window.location.href="admindashboard.html";break;case"hod":window.location.href="HODdashboard.html";break;case"finance":window.location.href="Financialmanagerdashboard.html";break;default:window.location.href="dashboard.html"}}catch(e){t.textContent=e.message||"Invalid credentials",console.error("Login error:",e)}}async function forgotPassword(e){e.preventDefault();var e=document.getElementById("email").value,t=document.getElementById("error-message");if(e)try{await api.auth.forgotPassword(e),alert("Password reset instructions have been sent to your email")}catch(e){t.textContent=e.message||"Error processing request",console.error("Forgot password error:",e)}else t.textContent="Please enter your email address"}</script>